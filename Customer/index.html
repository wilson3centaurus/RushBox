<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="RushBox - Fast, reliable delivery service at your fingertips">
    <meta name="theme-color" content="#2c3e50">
    
    <title>RushBox - Fast Delivery Service</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Custom Tailwind Config -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: {
                            50: '#fef7ec',
                            100: '#fdecd3',
                            200: '#fad5a5',
                            300: '#f7b96d',
                            400: '#f39c12',
                            500: '#e67e22',
                            600: '#d35400',
                            700: '#b7472a',
                            800: '#92542a',
                            900: '#744725',
                        },
                        dark: {
                            50: '#f8fafc',
                            100: '#f1f5f9',
                            200: '#e2e8f0',
                            300: '#cbd5e1',
                            400: '#94a3b8',
                            500: '#64748b',
                            600: '#475569',
                            700: '#334155',
                            800: '#1e293b',
                            900: '#2c3e50',
                        }
                    },
                    fontFamily: {
                        'sans': ['Inter', 'system-ui', 'sans-serif'],
                    },
                    animation: {
                        'fade-in': 'fadeIn 0.5s ease-in-out',
                        'slide-up': 'slideUp 0.3s ease-out',
                        'bounce-in': 'bounceIn 0.6s ease-out',
                    }
                }
            }
        }
    </script>

    <link rel="shortcut icon" href="assets/logos/rushbox-logo.png" type="image/x-icon">
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- PWA Manifest -->
    <link rel="manifest" href="manifest.json">
    
    <!-- Custom styles -->
    <style>
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        @keyframes slideUp {
            from { 
                opacity: 0; 
                transform: translateY(30px); 
            }
            to { 
                opacity: 1; 
                transform: translateY(0); 
            }
        }
        
        @keyframes bounceIn {
            0% { 
                opacity: 0; 
                transform: scale(0.3); 
            }
            50% { 
                opacity: 1; 
                transform: scale(1.05); 
            }
            70% { 
                transform: scale(0.9); 
            }
            100% { 
                opacity: 1; 
                transform: scale(1); 
            }
        }
        
        .gradient-bg {
            background: linear-gradient(135deg, #2c3e50 0%, #3498db 100%);
        }
        
        .box-shadow-custom {
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        }
        
        .btn-hover-effect:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(243, 156, 18, 0.3);
        }
        
        .loading-spinner {
            border: 3px solid #f3f3f3;
            border-top: 3px solid #f39c12;
            border-radius: 50%;
            width: 30px;
            height: 30px;
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body class="bg-gray-50 font-sans">
    <!-- Loading Screen -->
    <div id="loadingScreen" class="fixed inset-0 gradient-bg flex items-center justify-center z-50">
        <div class="text-center animate-bounce-in">
            <!-- RushBox Logo -->
            <div class="mb-6">
                <div class="w-20 h-20 mx-auto mb-4 relative">
                    <!-- Box Icon -->
                    <div class="absolute inset-0 bg-primary-400 rounded-lg transform rotate-12"></div>
                    <div class="absolute inset-0 bg-primary-300 rounded-lg transform -rotate-6"></div>
                    <div class="absolute inset-0 bg-primary-400 rounded-lg flex items-center justify-center">
                        <i class="fas fa-shipping-fast text-dark-900 text-2xl"></i>
                    </div>
                    <!-- Speed lines -->
                    <div class="absolute -right-4 top-1/2 transform -translate-y-1/2">
                        <div class="w-6 h-1 bg-primary-400 rounded mb-1"></div>
                        <div class="w-4 h-1 bg-primary-300 rounded mb-1"></div>
                        <div class="w-5 h-1 bg-primary-200 rounded"></div>
                    </div>
                </div>
                <h1 class="text-4xl font-bold text-white mb-2">RushBox</h1>
                <p class="text-primary-100 text-lg">Fast Delivery Service</p>
            </div>
            <div class="loading-spinner mx-auto"></div>
        </div>
    </div>

    <!-- Main App Container -->
    <div id="app" class="hidden min-h-screen">
        <!-- Welcome Screen -->
        <div id="welcomeScreen" class="min-h-screen gradient-bg relative overflow-hidden">
            <!-- Background Pattern -->
            <div class="absolute inset-0 opacity-10">
                <div class="absolute top-20 left-10 w-32 h-32 border-2 border-white rounded-full"></div>
                <div class="absolute top-40 right-20 w-20 h-20 border-2 border-primary-400 rounded-lg transform rotate-45"></div>
                <div class="absolute bottom-32 left-20 w-16 h-16 bg-primary-400 rounded-full"></div>
                <div class="absolute bottom-20 right-16 w-24 h-24 border-2 border-white rounded-lg"></div>
            </div>
            
            <div class="relative z-10 flex flex-col justify-center items-center min-h-screen px-6 py-12">
                <!-- Logo Section -->
                <div class="text-center mb-12 animate-fade-in">
                    <div class="w-32 h-32 mx-auto mb-6 relative">
                        <!-- Enhanced Logo -->
                        <div class="absolute inset-0 bg-primary-400 rounded-2xl transform rotate-12 box-shadow-custom"></div>
                        <div class="absolute inset-0 bg-primary-300 rounded-2xl transform -rotate-6"></div>
                        <div class="absolute inset-0 bg-primary-400 rounded-2xl flex items-center justify-center box-shadow-custom">
                            <i class="fas fa-shipping-fast text-dark-900 text-4xl"></i>
                        </div>
                        <!-- Enhanced Speed lines -->
                        <div class="absolute -right-6 top-1/2 transform -translate-y-1/2">
                            <div class="w-8 h-2 bg-primary-400 rounded-full mb-2 animate-pulse"></div>
                            <div class="w-6 h-2 bg-primary-300 rounded-full mb-2"></div>
                            <div class="w-7 h-2 bg-primary-200 rounded-full"></div>
                        </div>
                    </div>
                    
                    <h1 class="text-6xl font-bold text-white mb-4">RushBox</h1>
                    <p class="text-xl text-primary-100 mb-2">Fast. Reliable. Delivered.</p>
                    <p class="text-primary-200 text-lg">Your groceries in 30 minutes or less</p>
                </div>

                <!-- Features Preview -->
                <div class="grid grid-cols-3 gap-6 mb-12 w-full max-w-sm animate-slide-up">
                    <div class="text-center">
                        <div class="w-16 h-16 bg-white/20 rounded-2xl flex items-center justify-center mb-3 mx-auto">
                            <i class="fas fa-clock text-primary-400 text-xl"></i>
                        </div>
                        <p class="text-white text-sm font-medium">30min<br>Delivery</p>
                    </div>
                    <div class="text-center">
                        <div class="w-16 h-16 bg-white/20 rounded-2xl flex items-center justify-center mb-3 mx-auto">
                            <i class="fas fa-shield-alt text-primary-400 text-xl"></i>
                        </div>
                        <p class="text-white text-sm font-medium">Secure<br>Payment</p>
                    </div>
                    <div class="text-center">
                        <div class="w-16 h-16 bg-white/20 rounded-2xl flex items-center justify-center mb-3 mx-auto">
                            <i class="fas fa-map-marker-alt text-primary-400 text-xl"></i>
                        </div>
                        <p class="text-white text-sm font-medium">Live<br>Tracking</p>
                    </div>
                </div>

                <!-- Action Buttons -->
                <div class="w-full max-w-sm space-y-4 animate-slide-up">
                    <button id="getStartedBtn" class="w-full bg-primary-400 text-dark-900 font-semibold py-4 px-8 rounded-2xl text-lg transition-all duration-300 btn-hover-effect box-shadow-custom">
                        Get Started
                        <i class="fas fa-arrow-right ml-2"></i>
                    </button>
                    
                    <button id="loginBtn" class="w-full bg-transparent border-2 border-white text-white font-medium py-4 px-8 rounded-2xl text-lg transition-all duration-300 hover:bg-white hover:text-dark-900">
                        Already have an account? Sign In
                    </button>
                </div>

                <!-- App Features -->
                <div class="text-center mt-12 animate-fade-in">
                    <p class="text-primary-200 text-sm mb-4">Available features:</p>
                    <div class="flex justify-center space-x-6 text-primary-300">
                        <span class="flex items-center text-sm">
                            <i class="fas fa-mobile-alt mr-2"></i>
                            Mobile Optimized
                        </span>
                        <span class="flex items-center text-sm">
                            <i class="fas fa-wifi mr-2"></i>
                            Works Offline
                        </span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Authentication Container -->
        <div id="authContainer" class="hidden min-h-screen bg-gray-50">
            <!-- Auth content will be loaded here dynamically -->
        </div>

        <!-- Main App Container (Dashboard, etc.) -->
        <div id="mainApp" class="hidden">
            <!-- Main app content will be loaded here -->
        </div>
    </div>

    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-storage-compat.js"></script>

    <!-- Main App Script -->
    <script>
        // App State Management
        class RushBoxApp {
            constructor() {
                this.currentUser = null;
                this.currentScreen = 'loading';
                this.init();
            }

            init() {
                this.setupEventListeners();
                this.simulateLoading();
            }

            setupEventListeners() {
                document.getElementById('getStartedBtn').addEventListener('click', () => {
                    this.showAuthScreen('register');
                });

                document.getElementById('loginBtn').addEventListener('click', () => {
                    this.showAuthScreen('login');
                });
            }

            simulateLoading() {
                // Simulate app initialization
                setTimeout(() => {
                    this.hideLoading();
                    this.showWelcome();
                }, 2000);
            }

            hideLoading() {
                const loadingScreen = document.getElementById('loadingScreen');
                loadingScreen.style.opacity = '0';
                setTimeout(() => {
                    loadingScreen.classList.add('hidden');
                    document.getElementById('app').classList.remove('hidden');
                }, 500);
            }

            showWelcome() {
                document.getElementById('welcomeScreen').classList.remove('hidden');
                this.currentScreen = 'welcome';
            }

            showAuthScreen(type = 'login') {
                document.getElementById('welcomeScreen').classList.add('hidden');
                document.getElementById('authContainer').classList.remove('hidden');
                this.loadAuthScreen(type);
                this.currentScreen = 'auth';
            }

            loadAuthScreen(type) {
                // This will be implemented with the auth component
                console.log(`Loading ${type} screen...`);
                // For now, show a placeholder
                document.getElementById('authContainer').innerHTML = `
                    <div class="min-h-screen flex items-center justify-center p-6">
                        <div class="text-center">
                            <h2 class="text-2xl font-bold text-dark-900 mb-4">
                                ${type === 'login' ? 'Welcome Back!' : 'Create Account'}
                            </h2>
                            <p class="text-gray-600 mb-8">
                                ${type === 'login' ? 'Sign in to continue to RushBox' : 'Join RushBox for fast deliveries'}
                            </p>
                            <div class="bg-white rounded-2xl p-8 box-shadow-custom max-w-sm mx-auto">
                                <p class="text-gray-500">Auth form will be loaded here...</p>
                                <button onclick="app.showWelcome()" class="mt-4 text-primary-400 hover:underline">
                                    ← Back to Welcome
                                </button>
                            </div>
                        </div>
                    </div>
                `;
            }

            showMainApp() {
                document.getElementById('authContainer').classList.add('hidden');
                document.getElementById('mainApp').classList.remove('hidden');
                this.currentScreen = 'main';
            }
        }

        // Initialize the app
        const app = new RushBoxApp();

        // Service Worker Registration (PWA)
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('/sw.js')
                    .then(registration => {
                        console.log('SW registered: ', registration);
                    })
                    .catch(registrationError => {
                        console.log('SW registration failed: ', registrationError);
                    });
            });
        }
    </script>
</body>
</html>